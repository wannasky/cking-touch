(function(a,b){if(module.exports){module.exports=b()}else{a.Touch=b()}})(this,function(){var t=false;var l=0;var i=50;var n=10;var c=500;var q=10;var m=null;var a=false;var d=300;var p=100;var k=false;var h={start:null,move:null,end:null};var r=function(){t=false;l=0;a=false;k=false;h={}};var s={bind:function(v,u,w){var x=function(z){z.detail.currentTarget=v;var y=w.call(z.target,z);if(typeof y!=="undefined"&&!y){z.stopPropagation();z.preventDefault()}};v.addEventListener(u,x,false);return{off:function(){s.unbind(v,u,x)}}},unbind:function(v,u,w){return v.removeEventListener(u,w)},trigger:function(v,u,w){w=w||{};if(typeof CustomEvent!=="undefined"){if(v){v.dispatchEvent(new CustomEvent(u,{bubbles:true,cancelable:true,detail:w}))}else{var x=document.createEvent("CustomEvent");x.initCustomEvent(event,true,true,w);if(v){v.dispatchEvent(x)}}}}};var b={tap:function(v){var u=Date.now()-l;var w=f(h.start,h.mov?h.mov:h.start);if(u<c){clearTimeout(m)}if(n<w){return}if(c>u&&i<u&&j(v)<=1){clearTimeout(m);s.trigger(v.target,"tap",{type:"tap",originEvent:v})}},hold:function(u){clearTimeout(m);m=setTimeout(function(){if(!h.start){return}var v=f(h.start,h.move?h.move:h.start);if(q<v){return}s.trigger(u.target,"hold",{type:"hold",originEvent:u})},c)},swipe:function(y){if(!t||!h.move||j(y)>1){return}var x=Date.now()-l;var A=f(h.start,h.move);var z=e(h.start,h.move);var v=y.target;var w={type:"swipe",originEvent:y,direction:z,distance:A,x:h.move.x-h.start.x,y:h.move.y-h.start.y,duration:x};var u=function(){switch(z){case"up":s.trigger(v,"swipeUp",w);break;case"down":s.trigger(v,"swipeDown",w);break;case"left":s.trigger(v,"swipeLeft",w);break;case"right":s.trigger(v,"swipeRight",w);break}};if(!a){a=true;w.swipe="start";s.trigger(v,"swipeStart",w)}else{if(y.type==="touchmove"){w.swipe="move";s.trigger(v,"swipeMove",w);if(x>d&&x<d+50&&A>p){u();s.trigger(v,"swipe",w)}}else{if(y.type==="touchend"||y.type==="touchcancel"){w.swipe="end";s.trigger(v,"swipeEnd",w);if(x<d&&A>p){u();s.trigger(v,"swipe",w)}}}}if(!k){k=true;w.swipe="start";s.trigger(v,"dragStart",w)}else{if(y.type==="touchmove"){w.swipe="move";s.trigger(v,"dragMove",w)}else{if(y.type==="touchend"||y.type==="touchcancel"){w.swipe="end";s.trigger(v,"dragEnd",w)}}}}};var j=function(u){return u.touches?u.touches.length:1};var g=function(u){var v=u.touches[0];return{x:v.pageX,y:v.pageY}};var f=function(w,v){var u=v.x-w.x;var z=v.y-w.y;return Math.sqrt((u*u)+(z*z))};var e=function(w,v){var x=Math.atan2(v.y-w.y,v.x-w.x)*180/Math.PI;var y={up:x<-45&&x>-135,down:x>=45&&x<135,left:x>=135||x<=-135,right:x>=-45&&x<=45};for(var u in y){if(y[u]){return u}}return null};var o=function(u){switch(u.type){case"touchstart":t=true;l=Date.now();h.start=g(u);b.hold(u);break;case"touchmove":if(!t||!h.start){return}h.move=g(u);b.swipe(u);break;case"touchend":case"touchcancel":if(!t){return}if(a){b.swipe(u)}else{b.tap(u)}r();break}};["touchstart","touchmove","touchend","touchcancel"].forEach(function(u){document.addEventListener(u,o,false)});return{on:function(u,v,w){return s.bind(u,v,w)}}});